<?xml version="1.0"?>
<robot name="damiao_motor" xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- ros2_control 硬件接口配置 -->
  <ros2_control name="DamiaoSystem" type="system">
    <hardware>
      <plugin>damiao_ros2_control/DamiaoSystem</plugin>
     <!-- 硬件参数：串口路径、波特率 -->
    <param name="serial_port">/dev/ttyACM0</param>
    <param name="baud_rate">921600</param>  <!-- 字符串类型，不是数字 -->

    </hardware>

    <!-- 关节（电机）配置 -->
    <joint name="motor1_joint">
      <!-- 状态接口：位置、速度、电流 -->
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
      <!-- 命令接口：位置、速度 -->
      <command_interface name="position"/>
      <command_interface name="velocity"/>
    </joint>
  </ros2_control>

  <!-- 关节描述（URDF 必需，无实际机械结构可简化） -->
  <link name="base_link"/>
  <link name="motor1_link"/>
  <joint name="motor1_joint" type="revolute">
    <parent link="base_link"/>
    <child link="motor1_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" velocity="10" lower="-3.14" upper="3.14"/>
  </joint>

</robot>
